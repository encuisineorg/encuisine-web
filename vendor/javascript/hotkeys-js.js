var e="undefined"!==typeof navigator&&navigator.userAgent.toLowerCase().indexOf("firefox")>0;function addEvent(e,t,n){e.addEventListener?e.addEventListener(t,n,false):e.attachEvent&&e.attachEvent("on".concat(t),(function(){n(window.event)}))}function getMods(e,t){var n=t.slice(0,t.length-1);for(var r=0;r<n.length;r++)n[r]=e[n[r].toLowerCase()];return n}function getKeys(e){"string"!==typeof e&&(e="");e=e.replace(/\s/g,"");var t=e.split(",");var n=t.lastIndexOf("");for(;n>=0;){t[n-1]+=",";t.splice(n,1);n=t.lastIndexOf("")}return t}function compareArray(e,t){var n=e.length>=t.length?e:t;var r=e.length>=t.length?t:e;var o=true;for(var a=0;a<n.length;a++)-1===r.indexOf(n[a])&&(o=false);return o}var t={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"⇪":20,",":188,".":190,"/":191,"`":192,"-":e?173:189,"=":e?61:187,";":e?59:186,"'":222,"[":219,"]":221,"\\":220};var n={"⇧":16,shift:16,"⌥":18,alt:18,option:18,"⌃":17,ctrl:17,control:17,"⌘":91,cmd:91,command:91};var r={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91};var o={16:false,18:false,17:false,91:false};var a={};for(var i=1;i<20;i++)t["f".concat(i)]=111+i;var s=[];var f="all";var l=[];var c=function code(e){return t[e.toLowerCase()]||n[e.toLowerCase()]||e.toUpperCase().charCodeAt(0)};function setScope(e){f=e||"all"}function getScope(){return f||"all"}function getPressedKeyCodes(){return s.slice(0)}function filter(e){var t=e.target||e.srcElement;var n=t.tagName;var r=true;!t.isContentEditable&&("INPUT"!==n&&"TEXTAREA"!==n&&"SELECT"!==n||t.readOnly)||(r=false);return r}function isPressed(e){"string"===typeof e&&(e=c(e));return-1!==s.indexOf(e)}function deleteScope(e,t){var n;var r;e||(e=getScope());for(var o in a)if(Object.prototype.hasOwnProperty.call(a,o)){n=a[o];for(r=0;r<n.length;)n[r].scope===e?n.splice(r,1):r++}getScope()===e&&setScope(t||"all")}function clearModifier(e){var t=e.keyCode||e.which||e.charCode;var r=s.indexOf(t);r>=0&&s.splice(r,1);e.key&&"meta"===e.key.toLowerCase()&&s.splice(0,s.length);93!==t&&224!==t||(t=91);if(t in o){o[t]=false;for(var a in n)n[a]===t&&(hotkeys[a]=false)}}function unbind(e){if(e){if(Array.isArray(e))e.forEach((function(e){e.key&&d(e)}));else if("object"===typeof e)e.key&&d(e);else if("string"===typeof e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=n[0],i=n[1];if("function"===typeof o){i=o;o=""}d({key:e,scope:o,method:i,splitKey:"+"})}}else Object.keys(a).forEach((function(e){return delete a[e]}))}var d=function eachUnbind(e){var t=e.key,r=e.scope,o=e.method,i=e.splitKey,s=void 0===i?"+":i;var f=getKeys(t);f.forEach((function(e){var t=e.split(s);var i=t.length;var f=t[i-1];var l="*"===f?"*":c(f);if(a[l]){r||(r=getScope());var d=i>1?getMods(n,t):[];a[l]=a[l].map((function(e){var t=!o||e.method===o;return t&&e.scope===r&&compareArray(e.mods,d)?{}:e}))}}))};function eventHandler(e,t,n){var r;if(t.scope===n||"all"===t.scope){r=t.mods.length>0;for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(!o[a]&&t.mods.indexOf(+a)>-1||o[a]&&-1===t.mods.indexOf(+a))&&(r=false);if((0===t.mods.length&&!o[16]&&!o[18]&&!o[17]&&!o[91]||r||"*"===t.shortcut)&&false===t.method(e,t)){e.preventDefault?e.preventDefault():e.returnValue=false;e.stopPropagation&&e.stopPropagation();e.cancelBubble&&(e.cancelBubble=true)}}}function dispatch(e){var t=a["*"];var i=e.keyCode||e.which||e.charCode;if(hotkeys.filter.call(this,e)){93!==i&&224!==i||(i=91);-1===s.indexOf(i)&&229!==i&&s.push(i);["ctrlKey","altKey","shiftKey","metaKey"].forEach((function(t){var n=r[t];e[t]&&-1===s.indexOf(n)?s.push(n):!e[t]&&s.indexOf(n)>-1?s.splice(s.indexOf(n),1):"metaKey"===t&&e[t]&&3===s.length&&(e.ctrlKey||e.shiftKey||e.altKey||(s=s.slice(s.indexOf(n))))}));if(i in o){o[i]=true;for(var f in n)n[f]===i&&(hotkeys[f]=true);if(!t)return}for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(o[l]=e[r[l]]);if(e.getModifierState&&!(e.altKey&&!e.ctrlKey)&&e.getModifierState("AltGraph")){-1===s.indexOf(17)&&s.push(17);-1===s.indexOf(18)&&s.push(18);o[17]=true;o[18]=true}var d=getScope();if(t)for(var p=0;p<t.length;p++)t[p].scope===d&&("keydown"===e.type&&t[p].keydown||"keyup"===e.type&&t[p].keyup)&&eventHandler(e,t[p],d);if(i in a)for(var u=0;u<a[i].length;u++)if(("keydown"===e.type&&a[i][u].keydown||"keyup"===e.type&&a[i][u].keyup)&&a[i][u].key){var y=a[i][u];var v=y.splitKey;var h=y.key.split(v);var g=[];for(var m=0;m<h.length;m++)g.push(c(h[m]));g.sort().join("")===s.sort().join("")&&eventHandler(e,y,d)}}}function isElementBind(e){return l.indexOf(e)>-1}function hotkeys(e,t,r){s=[];var o=getKeys(e);var i=[];var f="all";var d=document;var p=0;var u=false;var y=true;var v="+";void 0===r&&"function"===typeof t&&(r=t);if("[object Object]"===Object.prototype.toString.call(t)){t.scope&&(f=t.scope);t.element&&(d=t.element);t.keyup&&(u=t.keyup);void 0!==t.keydown&&(y=t.keydown);"string"===typeof t.splitKey&&(v=t.splitKey)}"string"===typeof t&&(f=t);for(;p<o.length;p++){e=o[p].split(v);i=[];e.length>1&&(i=getMods(n,e));e=e[e.length-1];e="*"===e?"*":c(e);e in a||(a[e]=[]);a[e].push({keyup:u,keydown:y,scope:f,mods:i,shortcut:o[p],method:r,key:o[p],splitKey:v})}if("undefined"!==typeof d&&!isElementBind(d)&&window){l.push(d);addEvent(d,"keydown",(function(e){dispatch(e)}));addEvent(window,"focus",(function(){s=[]}));addEvent(d,"keyup",(function(e){dispatch(e);clearModifier(e)}))}}var p={setScope:setScope,getScope:getScope,deleteScope:deleteScope,getPressedKeyCodes:getPressedKeyCodes,isPressed:isPressed,filter:filter,unbind:unbind};for(var u in p)Object.prototype.hasOwnProperty.call(p,u)&&(hotkeys[u]=p[u]);if("undefined"!==typeof window){var y=window.hotkeys;hotkeys.noConflict=function(e){e&&window.hotkeys===hotkeys&&(window.hotkeys=y);return hotkeys};window.hotkeys=hotkeys}export default hotkeys;

